<!DOCTYPE html>
<html>
<head>
    <title>Travel modes in directions</title>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no"/>
    <!--
    <script src="http://maps.google.com/maps/api/js?libraries=placeses,visualization,drawing,geometry,places"></script>
    -->
    <script src="http://code.angularjs.org/1.3.15/angular.js"></script>
    <script src="ng-map/script-tags-for-development.js"></script>
    <style>
        html, body {
            width: 100%;
            height: 100%;
            padding: 0;
            margin: 0
        }

        body {
            padding: 5px
        }

        * {
            box-sizing: border-box;
        }
    </style>
    <script>
        var app = angular.module('ngMap');

        app.run(function ($rootScope) {
            $rootScope.logLatLng = function (e) {
                console.log('loc', e.latLng);
            }
            /* $rootScope.wayPoints = [
             {location: {lat: 44.32384807250689, lng: -78.079833984375}, stopover: true},
             {location: {lat: 44.55916341529184, lng: -76.17919921875}, stopover: true},
             ];*/
        });

        app.controller('ngMap', ['$scope', function (NgMap) {

            var vm = this;
            vm.types = "['establishment']";
            vm.placeChanged = function () {
                vm.place = $scope.origin.getPlace();
                console.log(
                        vm.place.geometry.location.lat(),
                        vm.place.geometry.location.lng()
                );
            }
        }]);
    </script>
</head>
<body ng-app="ngMap">
<div style="width: 68%; float:left; height: 100%">
    <b>Origin </b>
    <input class="text" places-auto-complete ng-model="origin"/>

    <b>Destination: </b>
    <input class="text" places-auto-complete ng-model="destination"/>

    <b>Mode of Travel: </b>
    <select ng-model="travelMode" ng-init="travelMode='DRIVING'">
        <option value="DRIVING">Driving</option>
        <option value="WALKING">Walking</option>
        <option value="BICYCLING">Bicycling</option>
        <option value="TRANSIT">Transit</option>
    </select>

    <ng-map zoom="14" center="current-position" style="height:90%" on-click="logLatLng()">
        <directions
                draggable="true"
                panel="directions-panel"
                travel-mode="{{travelMode}}"
                origin="{{origin}}"
                destination="{{destination}}">
        </directions>
    </ng-map>
    Directions path length:
    {{map.directionsRenderers[0].directions.routes[0].overview_path.length}}

    Directions:
    {{map.directionsRenderers[0].directions.routes[0]}}
</div>

<div id="directions-panel" style="width: 28%; float:left; height: 100%; overflow: auto; padding: 0px 5px">
</div>
</body>
</html>